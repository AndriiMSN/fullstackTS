(this["webpackJsonp01-first-app"]=this["webpackJsonp01-first-app"]||[]).push([[0],{32:function(e,t,n){e.exports=n(40)},37:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var r,a,i,d,o,c,u,l,s,p,f=n(0),x=n.n(f),g=n(27),b=n.n(g),m=(n(37),n(3)),O=n(4),v=n(5),h=v.a.div(r||(r=Object(O.a)(["\n  align-items: flex-start;\n  background-color: #3179ba;\n  display: flex;\n  flex-direction: row;\n  height: 100%;\n  padding: 20px;\n  width: 100%;\n"]))),j=v.a.div(a||(a=Object(O.a)(["\n  transform: ",";\n  opacity: ",";\n"])),(function(e){return e.isPreview?"rotate(5deg)":void 0}),(function(e){return e.isHidden?0:1})),y=Object(v.a)(j)(i||(i=Object(O.a)(["\n  background-color: #ebecf0;\n  width: 300px;\n  min-height: 40px;\n  margin-right: 20px;\n  border-radius: 3px;\n  padding: 8px 8px;\n  flex-grow: 0;\n  flex-shrink: 0;\n"]))),E=v.a.div(d||(d=Object(O.a)(["\n  padding: 6px 16px 12px;\n  font-weight: bold;\n"]))),I=Object(v.a)(j)(o||(o=Object(O.a)(["\n  background-color: #fff;\n  cursor: pointer;\n  margin-bottom: 0.5rem;\n  padding: 0.5rem 1rem;\n  max-width: 300px;\n  border-radius: 3px;\n  box-shadow: #091e4240 0px 1px 0px 0px;\n"]))),k=v.a.button(c||(c=Object(O.a)(["\n  background-color: #ffffff3d;\n  border-radius: 3px;\n  border: none;\n  color: ",";\n  cursor: pointer;\n  max-width: 300px;\n  padding: 10px 12px;\n  text-align: left;\n  transition: background 85ms ease-in;\n  width: 100%;\n  &:hover {\n    background-color: #ffffff52;\n  }\n"])),(function(e){return e.dark?"#000":"#fff"})),w=v.a.div(u||(u=Object(O.a)(["\n  max-width: 300px;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  align-items: flex-start;\n"]))),D=v.a.input(l||(l=Object(O.a)(["\n  border-radius: 3px;\n  border: none;\n  box-shadow: #091e4240 0px 1px 0px 0px; \n  margin-bottom: 0.5rem;\n  padding: 0.5rem 1rem;\n  width: 100%;\n"]))),A=v.a.button(s||(s=Object(O.a)(["\n  background-color: #5aac44;\n  border-radius: 3px;\n  border: none;\n  box-shadow: none;\n  color: #fff;\n  padding: 6px 12px;\n  text-align: center;\n"]))),C=v.a.div(p||(p=Object(O.a)(["\n  height: 100%;\n  left: 0;\n  pointer-events: none;\n  position: fixed;\n  top: 0;\n  width: 100%;\n  z-index: 100;\n"]))),T=n(31),S=n(7),_=n(22),M=function(e,t){return e.findIndex((function(e){return e.id===t}))},R=Object(f.createContext)({}),L=function(e,t){switch(t.type){case"SET_DRAGGED_ITEM":return Object(S.a)(Object(S.a)({},e),{},{draggedItem:t.payload});case"ADD_LIST":return Object(S.a)(Object(S.a)({},e),{},{lists:[].concat(Object(T.a)(e.lists),[{id:Object(_.a)(),text:t.payload,tasks:[]}])});case"ADD_TASK":var n=M(e.lists,t.payload.listId);return e.lists[n].tasks.push({id:Object(_.a)(),text:t.payload.text}),Object(S.a)({},e);case"MOVE_LIST":var r=t.payload,a=r.dragIndex,i=r.hoverIndex;return e.lists=function(e,t,n){var r=n<0?e.length+n:n,a=e.splice(t,1)[0];return e.splice(r,0,a),e}(e.lists,a,i),Object(S.a)({},e);case"MOVE_TASK":var d=t.payload,o=d.dragIndex,c=d.hoverIndex,u=d.sourceColumn,l=d.targetColumn,s=M(e.lists,u),p=M(e.lists,l),f=e.lists[s].tasks.splice(o,1)[0];return e.lists[p].tasks.splice(c,0,f),Object(S.a)({},e);default:return e}},P={draggedItem:void 0,lists:[{id:"0",text:"To Do",tasks:[{id:"c0",text:"Generate app scaffold"}]},{id:"1",text:"In Progress",tasks:[{id:"c2",text:"Learn Typescript"}]},{id:"2",text:"Done",tasks:[{id:"c3",text:"Begin to use static typing"}]}]},G=function(e){var t=e.children,n=Object(f.useReducer)(L,P),r=Object(m.a)(n,2),a=r[0],i=r[1];return x.a.createElement(R.Provider,{value:{state:a,dispatch:i}},t)},B=function(){return Object(f.useContext)(R)},K=n(44),N=n(26),U=function(e){var t=B().dispatch,n=Object(K.a)({item:e,begin:function(){return t({type:"SET_DRAGGED_ITEM",payload:e})},end:function(){return t({type:"SET_DRAGGED_ITEM",payload:void 0})}}),r=Object(m.a)(n,3),a=r[1],i=r[2];return Object(f.useEffect)((function(){i(Object(N.a)(),{captureDraggingState:!0})}),[i]),{drag:a}},V=n(45),H=function(e,t,n,r){return Boolean(!e&&t&&t.type===n&&t.id===r)},J=function(e){var t=e.text,n=e.id,r=e.index,a=e.columnId,i=e.isPreview,d=B(),o=d.state,c=d.dispatch,u=Object(f.useRef)(null),l=U({type:"CARD",id:n,index:r,text:t,columnId:a}).drag,s=Object(V.a)({accept:"CARD",hover:function(e){if("CARD"===e.type){if(e.id===n)return;var t=e.index,i=r,d=e.columnId,o=a;c({type:"MOVE_TASK",payload:{dragIndex:t,hoverIndex:i,sourceColumn:d,targetColumn:o}}),e.index=i,e.columnId=o}}});return l((0,Object(m.a)(s,2)[1])(u)),x.a.createElement(I,{isHidden:H(i,o.draggedItem,"CARD",n),isPreview:i,ref:u},t)},z=function(e){var t=e.onAdd,n=Object(f.useState)(""),r=Object(m.a)(n,2),a=r[0],i=r[1],d=function(){var e=Object(f.useRef)(null);return Object(f.useEffect)((function(){var t;null===(t=e.current)||void 0===t||t.focus()})),e}();return x.a.createElement(w,null,x.a.createElement(D,{ref:d,value:a,onChange:function(e){return i(e.target.value)}}),x.a.createElement(A,{onClick:function(){return t(a)}},"Create"))},W=function(e){var t=Object(f.useState)(!1),n=Object(m.a)(t,2),r=n[0],a=n[1],i=e.onAdd,d=e.toggleButtonText,o=e.dark;return r?x.a.createElement(z,{onAdd:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){i(e),a(!1)}))}):x.a.createElement(k,{dark:o,onClick:function(){return a(!0)}},d)},q=function(e){var t=e.text,n=e.index,r=e.id,a=e.isPreview,i=B(),d=i.state,o=i.dispatch,c=Object(f.useRef)(null),u=Object(V.a)({accept:["COLUMN","CARD"],hover:function(e){if("COLUMN"===e.type){var t=e.index,a=n;if(t===a)return;o({type:"MOVE_LIST",payload:{dragIndex:t,hoverIndex:a}}),e.index=a}else{var i=e.index,d=e.columnId,c=r;if(d===c)return;o({type:"MOVE_TASK",payload:{dragIndex:i,hoverIndex:0,sourceColumn:d,targetColumn:c}}),e.index=0,e.columnId=c}}}),l=Object(m.a)(u,2)[1];return(0,U({type:"COLUMN",id:r,index:n,text:t}).drag)(l(c)),x.a.createElement(y,{isPreview:a,ref:c,isHidden:H(a,d.draggedItem,"COLUMN",r)},x.a.createElement(E,null,t),d.lists[n].tasks.map((function(e,t){return x.a.createElement(J,{id:e.id,columnId:r,text:e.text,key:e.id,index:t})})),x.a.createElement(W,{toggleButtonText:"+ Add another card",onAdd:function(e){return o({type:"ADD_TASK",payload:{text:e,listId:r}})},dark:!0}))},F=n(42);function Q(e){if(!e)return{display:"none"};var t=e.x,n=e.y,r="translate(".concat(t,"px, ").concat(n,"px)");return{transform:r,WebkitTransform:r}}var X=function(){var e=Object(F.a)((function(e){return{item:e.getItem(),currentOffset:e.getSourceClientOffset(),isDragging:e.isDragging()}})),t=e.isDragging,n=e.item,r=e.currentOffset;return t?x.a.createElement(C,null,x.a.createElement("div",{style:Q(r)},"COLUMN"===n.type?x.a.createElement(q,{id:n.id,text:n.text,index:n.index,isPreview:!0}):x.a.createElement(J,{columnId:n.columnId,isPreview:!0,index:0,id:n.id,text:n.text}))):null},Y=function(){var e=B(),t=e.state,n=e.dispatch;return x.a.createElement(h,null,x.a.createElement(X,null),t.lists.map((function(e,t){return x.a.createElement(q,{id:e.id,text:e.text,key:e.id,index:t})})),x.a.createElement(W,{toggleButtonText:"+ Add another list",onAdd:function(e){return n({type:"ADD_LIST",payload:e})}}))},Z=n(43),$=n(19);b.a.render(x.a.createElement(Z.a,{backend:$.a},x.a.createElement(G,null,x.a.createElement(Y,null))),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.d87afc6d.chunk.js.map